<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connecting Australia: The Domestic Aviation Network</title>
    
    <!-- Vega-Lite -->
    <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- HERO SECTION: INTRODUCTION + MAP -->
    <section class="hero-section">
        <!-- LEFT: Introduction Text (1/3) -->
        <div class="hero-text">
            <h1>Connecting Australia</h1>
            <p>
                Australia's aviation network spans <strong>7.7 million kmÂ²</strong>, connecting major cities, 
                regional centers, and remote communities across one of the world's largest countries.
            </p>
            <p>
                From tropical Cairns to southern Tasmania, <strong>334 airports</strong> facilitate over 
                <strong>90 million passenger movements</strong> annually, making air travel essential to 
                Australian life and commerce.
            </p>
            <p style="margin-top: 20px; color: #7f8c8d; font-size: 16px;">
                Each circle represents an airport, sized by passenger volume. Hover for details.
            </p>
        </div>

        <!-- RIGHT: Map Visualization (2/3) -->
        <div class="hero-map">
            <div id="map" class="loading">Loading map...</div>
        </div>
    </section>

    <div class="container">

        <!-- TWO COLUMN CHARTS -->
        <section class="section">
            <h2 class="section-title">Scale and Growth</h2>
            <div class="two-col">
                <!-- TOP AIRPORTS BAR CHART -->
                <div class="chart-box">
                    <h3 class="chart-title">Top 20 Busiest Airports (2024)</h3>
                    <div id="bar-chart" class="chart loading">Loading chart...</div>
                </div>

                <!-- HISTORICAL TRENDS LINE CHART -->
                <div class="chart-box">
                    <h3 class="chart-title">24 Years of Growth (2000-2024)</h3>
                    <div id="line-chart" class="chart loading">Loading chart...</div>
                </div>
            </div>
        </section>

        <!-- INSIGHT 2 -->
        <section class="section">
            <div class="insight">
                
                <strong>Key Insight:</strong> 
                Australian aviation has grown steadily since deregulation in 1990, with the Gold Coast 
                emerging as a major hub. The 2020 COVID-19 pandemic caused a sharp 70% decline in 
                passenger numbers, but traffic recovered to near pre-pandemic levels by 2024, demonstrating 
                the sector's resilience.
            </div>
        </section>

        <!-- BOTTOM ROW -->
        <section class="section">
            <h2 class="section-title">Connections and Geography</h2>
            <div class="two-col">
                <!-- ROUTES -->
                <div class="chart-box">
                    <h3 class="chart-title">Top 20 Domestic Routes</h3>
            
                </div>

                <!-- ALTITUDE -->
                <div class="chart-box">
                    <h3 class="chart-title">Elevation Distribution</h3>
                    
                </div>
            </div>
        </section>

        <!-- FINAL INSIGHT -->
        <section class="section">
            <div class="insight">
                <strong>Key Insight:</strong> 
                Loren Ipsom
            </div>
        </section>
    </div>

    <!-- FOOTER -->
    <footer class="footer">
        <div class="footer-content">
            <h3>ðŸ“Š Data Sources & Information</h3>
            <div class="footer-links">
                <p><strong>Data Sources:</strong></p>
                <p>
                    OpenFlights Airport Database â€¢ 
                    <a href="https://www.bitre.gov.au" target="_blank">BITRE (Bureau of Infrastructure and Transport Research Economics)</a>
                </p>
                <p style="margin-top: 20px;">
                    <strong>Author:</strong> [Your Name] â€¢ 
                    <strong>Course:</strong> FIT3179 Data Visualisation 2 â€¢ 
                    <strong>Date:</strong> October 2025
                </p>
                <p style="margin-top: 10px; font-size: 12px; opacity: 0.8;">
                    Monash University â€¢ Semester 2, 2025
                </p>
            </div>
        </div>
    </footer>

    <!-- VEGA-LITE EMBEDDING SCRIPT -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Embed options for all visualizations
            const embedOptions = {
                actions: {
                    export: true,
                    source: false,
                    compiled: false,
                    editor: false
                },
                config: {
                    view: {
                        continuousWidth: 400,
                        continuousHeight: 300
                    }
                },
                renderer: 'svg'
            };
            
            // 1. Embed Map
            /*
            * Australian Domestic Airport Network Visualization
            * 
            * This Vega-Lite specification creates an interactive map of Australian airports
            * with circles sized by annual passenger volume (2024 data) and colored by state/territory.
            * 
            * Key features:
            * - Base map of Australia using TopoJSON country boundaries
            * - Airport circles filtered to show only commercial airports with:
            *   - Valid IATA codes
            *   - Passenger data available
            *   - Excludes secondary/general aviation airports (ACF, MEB, MBW, BWU, JAD, PEA)
            *     that were incorrectly assigned duplicate passenger counts
            * - Circle size scaled by passenger volume using square root transformation
            * - Color coding by Australian state/territory
            * - City labels for major airports (Sydney, Melbourne, Brisbane)
            * - Interactive tooltips showing airport details on hover
            * 
            * Data source: data/airports_merged.csv
            */
            vegaEmbed('#map', 'js/map.json', embedOptions)
                .then(result => console.log('Map loaded successfully'))
                .catch(error => console.error('Error loading map:', error));
            
            // 2. Embed Bar Chart
            vegaEmbed('#bar-chart', 'js/bar_cart.json', embedOptions)
                .then(result => console.log('Bar chart loaded successfully'))
                .catch(error => console.error('Error loading bar chart:', error));
            
            // 3. Embed Line Chart
            vegaEmbed('#line-chart', 'js/line_chart.json', embedOptions)
                .then(result => console.log('Line chart loaded successfully'))
                .catch(error => console.error('Error loading line chart:', error));
            
            // 4. Embed Routes Chart (TODO: create routes.json)
            vegaEmbed('#routes-chart', 'js/routes.json', embedOptions)
                .then(result => console.log('Routes chart loaded successfully'))
                .catch(error => console.error('Routes chart not ready:', error.message));
            
            // 5. Embed Altitude Chart (TODO: create altitude.json)
            vegaEmbed('#altitude-chart', 'js/altitude.json', embedOptions)
                .then(result => console.log('Altitude chart loaded successfully'))
                .catch(error => console.error('Altitude chart not ready:', error.message));
        });
    </script>
</body>
</html>